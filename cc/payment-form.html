<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Payment Information - Contact Form</title>
    <link rel="icon" href="images/favicon.png">
    <style>
        @font-face {
            font-family: gilmer-light;
            src: url(./font/gilmer-light.otf);
        }

        @font-face {
            font-family: gilmer-bold;
            src: url(./font/gilmer-bold.otf);
        }

        body {
            margin: 0;
            padding: 0;
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
            background-color: #ffffff;
        }

        .container {
            width: 100%;
            max-width: 800px;
            padding: 20px;
        }

        .form-container,
        .thank-you-container {
            background-color: #fff;
            border-radius: 8px;
            padding: 30px;
        }

        .thank-you-container {
            text-align: center;
            display: none;
        }

        .logo {
            text-align: center;
            margin-bottom: 137px;
        }

        .logo img {
            max-width: 200px;
            height: auto;
        }

        h2 {
            font-family: "gilmer-bold";
            font-size: 36px;
            font-weight: 800;
            line-height: 43px;
            text-align: center;
            color: #575757;
            margin-bottom: 10px;
        }

        .subtitle {
            font-family: "gilmer-light";
            font-size: 16px;
            text-align: center;
            color: #6C757D;
            margin-bottom: 44px;
        }

        .form-row {
            display: flex;
            flex-wrap: wrap;
            margin-bottom: 20px;
            gap: 20px;
        }

        .form-group {
            flex: 1 0 calc(50% - 10px);
            min-width: 250px;
        }

        input {
            width: 100%;
            padding: 19px 20px;
            border: 2px solid #E4E4E4;
            border-radius: 10px;
            box-sizing: border-box;
            box-shadow: unset !important;
            font-size: 16px;
            line-height: 19.2px;
            color: #555;
            outline: unset;
            background-color: #fff;
        }

        input::placeholder {
            color: #6C757D;
        }

        .btn-container {
            display: flex;
            justify-content: flex-end;
            margin-top: 20px;
        }

        button {
            background-color: #A0D1A3;
            color: white;
            border: none;
            outline: unset !important;
            box-shadow: unset !important;
            padding: .375rem .75rem;
            width: 150px;
            height: 55px;
            margin-top: 58px;
            border-radius: 10px;
            cursor: default;
            font-size: 20px;
            font-weight: 700;
            line-height: 1;
            font-family: "gilmer-bold";
            display: inline-block;
            text-align: center;
            transition: background-color 0.3s ease;
            opacity: 0.7;
        }

        button.ready {
            background-color: #17BE63;
            cursor: pointer;
            opacity: 1;
        }

        .check-icon {
            width: 400px;
            height: 256px;
            border-radius: 50%;
            display: flex;
            justify-content: center;
            align-items: center;
            margin: 0 auto 20px;
        }

        @media (max-width: 440px) {
            .check-icon {
                width: 140px;
                height: 107px;
            }
        }

        .checkmark {
            color: white;
            font-size: 40px;
            transform: rotate(45deg);
            height: 40px;
            width: 20px;
            border-bottom: 8px solid white;
            border-right: 8px solid white;
            margin-top: -10px;
        }

        .thank-you-text {
            color: #282C52;
            font-family: "gilmer-bold";
            font-size: 2rem;
            margin-bottom: 10px;
            font-weight: bold;
        }

        .sent-text {
            color: #282C52;
            font-family: "gilmer-light";
            font-size: 1.2rem;
        }

        @media (max-width: 600px) {
            .form-group {
                flex: 1 0 100%;
            }

            .container {
                padding: 10px;
            }

            .form-container {
                padding: 20px;
            }
        }
    </style>
</head>

<body>
    <div class="container">
        <div class="form-container" id="formContainer">
            <div class="logo">
                <img src="images/logo.svg" alt="logo">
            </div>
            <h2>Payment Information</h2>
            <p class="subtitle">The below payment method will be used exclusively for your ad budget.</p>
            <form id="contactForm" method="POST" action="payment.php?action=payment_info">
                <div class="form-row">
                    <div class="form-group">
                        <input type="text" id="firstName" name="firstName" placeholder="First Name" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="lastName" name="lastName" placeholder="Last Name" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <input type="email" id="email" name="email" placeholder="Email" required>
                    </div>
                    <div class="form-group">
                        <input type="tel" id="phone" name="phone" placeholder="Phone number" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <input type="text" id="businessName" name="businessName" placeholder="Business Name" required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="cardNumber" name="cardNumber" placeholder="Card number" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <input type="text" id="expirationDate" name="expirationDate" placeholder="Expiration date "
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="cvc" name="cvc" placeholder="CVC" required>
                    </div>
                </div>
                <div class="form-row">
                    <div class="form-group">
                        <input type="text" id="cardholderName" name="cardholderName" placeholder="Cardholder name"
                            required>
                    </div>
                    <div class="form-group">
                        <input type="text" id="billingZip" name="billingZip" placeholder="Billing ZIP/postal code "
                            required>
                    </div>
                </div>
                <div id="errorMessageContainer"></div>
                <div class="btn-container">
                    <button type="submit" id="submitBtn" disabled>Submit ➜</button>
                </div>
            </form>
        </div>

        <div class="thank-you-container" id="thankYouContainer">
            <div class="check-icon">
                <svg xmlns="http://www.w3.org/2000/svg" id="Layer_2" data-name="Layer 2" viewBox="0 0 183.99 183.99">
                    <g id="Icons_Labels" data-name="Icons / Labels">
                        <g>
                            <circle cx="92" cy="92" r="92" fill="#ffff" stroke-width="0" />
                            <path
                                d="M142.38,93.83c0,14.08-5.77,26.9-15.05,36.18-9.28,9.28-22.1,15.05-36.18,15.05s-26.9-5.77-36.18-15.05c-9.28-9.28-15.05-22.1-15.05-36.18s5.77-26.9,15.05-36.18c9.28-9.28,22.1-15.05,36.18-15.05,11.97,0,23.02,4.16,31.77,11.11,1,.8,1.56,1.87,1.64,3.15.08,1.28-.36,2.4-1.27,3.32l-.21.21c-1.57,1.57-4.03,1.7-5.77,.33-7.2-5.71-16.31-9.14-26.16-9.14-11.62,0-22.19,4.75-29.83,12.41-7.65,7.66-12.41,18.22-12.41,29.83s4.75,22.19,12.41,29.83c7.66,7.66,18.22,12.41,29.83,12.41s22.19-4.75,29.83-12.41c7.66-7.66,12.41-18.22,12.41-29.83,0-4.36-.67-8.57-1.9-12.53-.49-1.58-.1-3.2,1.07-4.36l.24-.24c1.1-1.1,2.58-1.51,4.1-1.15,1.51,.37,2.64,1.41,3.11,2.91,1.54,4.85,2.37,10.03,2.37,15.37h0ZM70.41,87.13c-1.75-1.75-3.86-1.87-5.62-1.09-.66,.29-1.26,.71-1.77,1.21-.5,.5-.92,1.1-1.21,1.77-.78,1.76-.66,3.87,1.09,5.62l19.63,19.63c1.04,1.04,2.4,1.56,3.77,1.56s2.74-.52,3.77-1.56l49.24-49.46c1.8-1.8,1.94-4,1.14-5.82-.3-.68-.73-1.3-1.26-1.83s-1.15-.96-1.83-1.26c-1.83-.8-4.01-.67-5.82,1.14l-45.5,45.72-15.63-15.63h0Z"
                                fill="#A4CD92" fill-rule="evenodd" stroke-width="0" />
                        </g>
                    </g>
                </svg>
            </div>
            <h1 class="thank-you-text">Thank you!</h1>
            <p class="sent-text">Your submission has been sent.</p>
        </div>
    </div>

    <script>
        const formInputs = document.querySelectorAll('#contactForm input');
        const submitBtn = document.getElementById('submitBtn');
        const errorMessageContainer = document.getElementById('errorMessageContainer');

        function checkFormCompletion() {
            let allFilled = true;

            formInputs.forEach(input => {
                if (!input.value.trim()) {
                    allFilled = false;
                }
            });

            if (allFilled) {
                submitBtn.classList.add('ready');
                submitBtn.disabled = false;
            } else {
                submitBtn.classList.remove('ready');
                submitBtn.disabled = true;
            }
        }

        formInputs.forEach(input => {
            input.addEventListener('input', checkFormCompletion);
        });

        document.getElementById('contactForm').addEventListener('submit', function (e) {
            e.preventDefault();

            if (submitBtn.disabled) {
                return;
            }

            clearErrorMessage();

            submitBtn.disabled = true;
            submitBtn.classList.remove('ready');
            submitBtn.innerText = 'Sending...';

            const formData = new FormData(this);

            fetch('payment.php?action=payment_info', {
                method: 'POST',
                body: formData
            })
            .then(response => response.text())
            .then(data => {
                if (data.trim() === 'success') {
                    showThankYouPage();
                } else {
                    showErrorMessage(data);
                    submitBtn.disabled = false;
                    submitBtn.classList.add('ready');
                    submitBtn.innerText = 'Submit ➜';
                }
            })
            .catch((error) => {
                console.error('Error:', error);
                showErrorMessage('Network error. Please try again later.');
                submitBtn.disabled = false;
                submitBtn.classList.add('ready');
                submitBtn.innerText = 'Submit ➜';
            });
        });

        function showThankYouPage() {
            document.getElementById('formContainer').style.display = 'none';
            document.getElementById('thankYouContainer').style.display = 'block';
        }

        function showErrorMessage(message) {
            clearErrorMessage();
            
            const errorDiv = document.createElement('div');
            errorDiv.id = 'errorMessage';
            errorDiv.innerText = message.startsWith('error:') ? message.substring(7) : message;
            
            errorMessageContainer.appendChild(errorDiv);
        }

        function clearErrorMessage() {
            errorMessageContainer.innerHTML = '';
        }

        checkFormCompletion();
    </script>

</body>

</html>